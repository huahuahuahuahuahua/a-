(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-createbookshelf-createbookshelf"],{"82b7":function(t,e,n){"use strict";n.r(e);var i=n("d1fb"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=a.a},a193:function(t,e,n){"use strict";n.r(e);var i=n("b3fd"),a=n("82b7");for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);var o,d=n("f0c5"),u=Object(d["a"])(a["default"],i["b"],i["c"],!1,null,"7fe0b750",null,!1,i["a"],o);e["default"]=u.exports},b3fd:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ezpage",{attrs:{title:t.title}},[n("v-uni-view",{staticStyle:{padding:"10px"},attrs:{slot:"contentSection"},slot:"contentSection"},[n("v-uni-view",{staticClass:"dnms-card"},[n("v-uni-input",{staticStyle:{"font-size":"18px",width:"100%",height:"44px","line-height":"44px"},attrs:{placeholder:"请输入书房名称",maxlength:"20"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-uni-view",{staticClass:"dnms-divider"}),n("v-uni-view",{staticClass:"dnms-cell",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnChooseLocation.apply(void 0,arguments)}}},[n("v-uni-view",[t._v(t._s(t.address))]),n("v-uni-view",{staticClass:"iconfont icon-right"})],1)],1),n("v-uni-view",{staticClass:"dnms-blockbutton",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnSaveBookshelf.apply(void 0,arguments)}}},[t._v("保存")])],1)],1)},s=[]},d1fb:function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("ea02")),s=i(n("3d24")),o={components:{ezpage:s.default},data:function(){return{title:"新建书房",_id:null,name:"",address:"选取书房所在地址",longitude:"",latitude:""}},onLoad:function(t){var e=this;t.id&&(this.title="修改书房",this._id=t.id,a.default.call({name:"bookshelfs",data:{action:"get",_id:this._id},success:function(t){e.name=t.result.name,e.address=t.result.address,e.longitude=t.result.geopoint.coordinates[0],e.latitude=t.result.geopoint.coordinates[1]}}))},methods:{btnChooseLocation:function(){var t=this;uni.getLocation({success:function(e){uni.chooseLocation({latitude:e.latitude,longitude:e.longitude,success:function(e){t.address=e.address+e.name,t.longitude=e.longitude,t.latitude=e.latitude}})}})},btnSaveBookshelf:function(){return this.name.length<3?uni.showToast({icon:"none",mask:!0,title:"书房名称至少需要3个字符"}):""==this.latitude||""==this.longitude||""==this.address?uni.showToast({icon:"none",mask:!0,title:"请选择正确的书房所在地址"}):void a.default.call({name:"bookshelfs",data:{action:this._id?"update":"create",_id:this._id,name:this.name,address:this.address,longitude:this.longitude,latitude:this.latitude},success:function(t){1==t.result.err?uni.showModal({content:"书房名称未通过内容安全审查",showCancel:!1}):uni.navigateBack({})}})}}};e.default=o}}]);